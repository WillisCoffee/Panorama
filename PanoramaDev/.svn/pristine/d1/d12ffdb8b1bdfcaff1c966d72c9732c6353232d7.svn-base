/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package pckDialog;

import java.math.BigDecimal;

import java.util.ArrayList;
import java.util.List;
import pckEntites.Adresse;
import pckEntites.CodePostal;
import pckEntites.Departement;
import pckEntites.Utilisateur;
import pckEntites.Etudiant;
import static pckValidation.Validation.retournerCodePermanent;
import static pckValidation.Validation.retournerDate;
import static pckValidation.Validation.retournerMotPasse;
import static pckValidation.Validation.retournerNAS;
import static pckValidation.Validation.retournerNoTel;
import static pckValidation.Validation.validerCodePermanent;
import static pckValidation.Validation.validerCodePostal;
import static pckValidation.Validation.validerCourriel;
import static pckValidation.Validation.validerCredit;
import static pckValidation.Validation.validerDate;
import static pckValidation.Validation.validerMotPasse;
import static pckValidation.Validation.validerNAS;
import static pckValidation.Validation.validerNom;
import static pckValidation.Validation.validerPhotographie;
import static pckValidation.Validation.validerTel;

/**
 *
 * @author clocal
 */
public class DlgGererEtudiant extends javax.swing.JDialog {

    /**
     * Creates new form DlgConnexion
     */
    Utilisateur _utilisateur;
    Etudiant _etudiant;
    Adresse _adresse;
    CodePostal _codePostal;
    boolean result = false;
    List<Adresse> lstAdresse;
  

    public DlgGererEtudiant(java.awt.Frame parent, boolean modal, Etudiant pEtudiant) {
        super(parent, modal);
        lstAdresse = new ArrayList<>();
        _utilisateur = pEtudiant.getIdUtilisateurFK();
        _etudiant = pEtudiant;
        if (_utilisateur != null) {
            lstAdresse = _utilisateur.getAdresseList();
            if (lstAdresse.size() > 0) {
                _adresse = (Adresse) lstAdresse.get(0);
                _codePostal = _adresse.getIdCodePostalFK();
            }
        }
        initComponents();
        lblMessage.setText("");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

        pnlTitre = new javax.swing.JPanel();
        lblTitre = new javax.swing.JLabel();
        pnlContenu = new javax.swing.JPanel();
        pnlNom = new javax.swing.JLabel();
        pnlDateNaissance = new javax.swing.JLabel();
        lblTelephone = new javax.swing.JLabel();
        lblCourriel = new javax.swing.JLabel();
        lblNAS = new javax.swing.JLabel();
        lblCreditImpression = new javax.swing.JLabel();
        lblPrenom = new javax.swing.JLabel();
        lblMotDePasse = new javax.swing.JLabel();
        lblCellulaire = new javax.swing.JLabel();
        lblPhotographie = new javax.swing.JLabel();
        lblMatricule = new javax.swing.JLabel();
        txfNom = new javax.swing.JTextField();
        txfDateNaissance = new javax.swing.JTextField();
        txfTelephone = new javax.swing.JTextField();
        txfCourriel = new javax.swing.JTextField();
        txfNAS = new javax.swing.JTextField();
        txfCreImpression = new javax.swing.JTextField();
        txfPrenom = new javax.swing.JTextField();
        txfCellulaire = new javax.swing.JTextField();
        txfPhoto = new javax.swing.JTextField();
        txfMatricule = new javax.swing.JTextField();
        pwfMotPasse = new javax.swing.JPasswordField();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        txfNoCiv = new javax.swing.JTextField();
        txfVille = new javax.swing.JTextField();
        txfNomRue = new javax.swing.JTextField();
        txfCodePostal = new javax.swing.JTextField();
        cmbProvince = new javax.swing.JComboBox<>();
        jLabel1 = new javax.swing.JLabel();
        txfCodePermanent = new javax.swing.JTextField();
        pnlBas = new javax.swing.JPanel();
        pnlMessage = new javax.swing.JPanel();
        lblMessage = new javax.swing.JLabel();
        pnlBoutons = new javax.swing.JPanel();
        btnAnnuler = new javax.swing.JButton();
        btnModifier = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Gérer étudiant");
        setModal(true);
        setResizable(false);

        lblTitre.setFont(new java.awt.Font("Verdana", 0, 14)); // NOI18N
        lblTitre.setText("Gérer Étudiant");
        pnlTitre.add(lblTitre);

        getContentPane().add(pnlTitre, java.awt.BorderLayout.PAGE_START);

        pnlNom.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        pnlNom.setText("Nom :");

        pnlDateNaissance.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        pnlDateNaissance.setText("Date naissance :");

        lblTelephone.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblTelephone.setText("Téléphone :");

        lblCourriel.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblCourriel.setText("Courriel :");

        lblNAS.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblNAS.setText("Numéro assurace social :");

        lblCreditImpression.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblCreditImpression.setText("Crédit impression :");

        lblPrenom.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblPrenom.setText("Prénom :");

        lblMotDePasse.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblMotDePasse.setText("Mot de passe :");

        lblCellulaire.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblCellulaire.setText("Cellulaire :");

        lblPhotographie.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblPhotographie.setText("Photographie :");

        lblMatricule.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblMatricule.setText("Matricule :");

        txfNom.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfNom.setPreferredSize(new java.awt.Dimension(0, 25));

        org.jdesktop.beansbinding.Binding binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.nom}"), txfNom, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfDateNaissance.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfDateNaissance.setPreferredSize(new java.awt.Dimension(0, 25));

        txfTelephone.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfTelephone.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.telephone}"), txfTelephone, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfCourriel.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfCourriel.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.courriel}"), txfCourriel, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfNAS.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfNAS.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.nas}"), txfNAS, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfCreImpression.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfCreImpression.setPreferredSize(new java.awt.Dimension(0, 25));

        txfPrenom.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfPrenom.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.prenom}"), txfPrenom, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfCellulaire.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfCellulaire.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.cellulaire}"), txfCellulaire, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfPhoto.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfPhoto.setPreferredSize(new java.awt.Dimension(0, 25));

        txfMatricule.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfMatricule.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${etudiant.matriculePK}"), txfMatricule, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfMatricule.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfMatriculeActionPerformed(evt);
            }
        });

        pwfMotPasse.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${utilisateur.motPasse}"), pwfMotPasse, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        jLabel2.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel2.setText("No civique :");

        jLabel3.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel3.setText("Ville :");

        jLabel4.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel4.setText("Rue :");

        jLabel5.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel5.setText("Code Postal :");

        jLabel6.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel6.setText("Province :");

        txfNoCiv.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfNoCiv.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${adresse.numeroCivique}"), txfNoCiv, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfVille.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfVille.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${codePostal.ville}"), txfVille, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfNomRue.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfNomRue.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${adresse.rue}"), txfNomRue, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfCodePostal.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        txfCodePostal.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${codePostal.codePostal}"), txfCodePostal, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        txfCodePostal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txfCodePostalActionPerformed(evt);
            }
        });

        cmbProvince.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        cmbProvince.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Alberta", "Colombie-Britanique", "Ile-du-Prince-Édouard", "Manitoba", "Nouveau-Brunswick", "Ontario", "Québec", "Saskatchewan", "Terre-Neuve-et-Labrador", "Territoire Nord-ouest", "Nunavut", "Yukon" }));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${codePostal.province}"), cmbProvince, org.jdesktop.beansbinding.BeanProperty.create("selectedItem"));
        bindingGroup.addBinding(binding);

        jLabel1.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        jLabel1.setText("Code permanent :");

        txfCodePermanent.setPreferredSize(new java.awt.Dimension(0, 25));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${etudiant.codePermanent}"), txfCodePermanent, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        javax.swing.GroupLayout pnlContenuLayout = new javax.swing.GroupLayout(pnlContenu);
        pnlContenu.setLayout(pnlContenuLayout);
        pnlContenuLayout.setHorizontalGroup(
            pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createSequentialGroup()
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlContenuLayout.createSequentialGroup()
                        .addGap(100, 100, 100)
                        .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblMatricule)
                            .addComponent(lblPrenom)
                            .addComponent(lblMotDePasse)
                            .addComponent(jLabel4)
                            .addComponent(jLabel6)
                            .addComponent(pnlDateNaissance)
                            .addComponent(lblCellulaire))
                        .addGap(6, 6, 6))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblPhotographie)
                            .addComponent(lblCourriel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlContenuLayout.createSequentialGroup()
                        .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlContenuLayout.createSequentialGroup()
                                .addComponent(txfNomRue, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel3))
                            .addGroup(pnlContenuLayout.createSequentialGroup()
                                .addComponent(pwfMotPasse, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel2))
                            .addGroup(pnlContenuLayout.createSequentialGroup()
                                .addComponent(cmbProvince, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel5))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createSequentialGroup()
                                .addComponent(txfMatricule, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 44, Short.MAX_VALUE)
                                .addComponent(jLabel1))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createSequentialGroup()
                                .addComponent(txfPrenom, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(pnlNom))
                            .addGroup(pnlContenuLayout.createSequentialGroup()
                                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txfDateNaissance, javax.swing.GroupLayout.DEFAULT_SIZE, 117, Short.MAX_VALUE)
                                    .addComponent(txfCellulaire, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(txfCourriel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblTelephone, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(lblNAS, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(lblCreditImpression, javax.swing.GroupLayout.Alignment.TRAILING))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txfCodePermanent, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txfNom, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txfVille, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txfCodePostal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txfNoCiv, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createSequentialGroup()
                                .addGap(0, 1, Short.MAX_VALUE)
                                .addComponent(txfTelephone, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(txfNAS, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(txfCreImpression, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(70, 70, 70))
                    .addGroup(pnlContenuLayout.createSequentialGroup()
                        .addComponent(txfPhoto, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))))
        );
        pnlContenuLayout.setVerticalGroup(
            pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlContenuLayout.createSequentialGroup()
                .addContainerGap(19, Short.MAX_VALUE)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txfCodePermanent, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel1))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(txfMatricule, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblMatricule)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txfNom, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(pnlNom)
                        .addComponent(txfPrenom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblPrenom)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(pwfMotPasse, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblMotDePasse)
                    .addComponent(txfNoCiv, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2))
                .addGap(18, 18, 18)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(txfNomRue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txfVille, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3))
                .addGap(18, 18, 18)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(txfCodePostal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmbProvince, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txfTelephone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblTelephone)
                    .addComponent(pnlDateNaissance)
                    .addComponent(txfDateNaissance, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txfCellulaire, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblCellulaire)
                    .addComponent(txfNAS, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblNAS))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblCourriel)
                    .addComponent(txfCourriel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txfCreImpression, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblCreditImpression))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlContenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txfPhoto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblPhotographie))
                .addGap(37, 37, 37))
        );

        getContentPane().add(pnlContenu, java.awt.BorderLayout.CENTER);

        pnlBas.setPreferredSize(new java.awt.Dimension(0, 59));
        pnlBas.setLayout(new java.awt.BorderLayout());

        lblMessage.setFont(new java.awt.Font("Verdana", 0, 11)); // NOI18N
        lblMessage.setText("Ceci est un message d'erreur");
        pnlMessage.add(lblMessage);

        pnlBas.add(pnlMessage, java.awt.BorderLayout.PAGE_START);

        btnAnnuler.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        btnAnnuler.setMnemonic('n');
        btnAnnuler.setText("Annuler");
        btnAnnuler.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAnnulerActionPerformed(evt);
            }
        });
        pnlBoutons.add(btnAnnuler);

        btnModifier.setFont(new java.awt.Font("Verdana", 0, 12)); // NOI18N
        btnModifier.setMnemonic('a');
        btnModifier.setText("Accepter");
        btnModifier.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnModifierActionPerformed(evt);
            }
        });
        pnlBoutons.add(btnModifier);

        pnlBas.add(pnlBoutons, java.awt.BorderLayout.CENTER);

        getContentPane().add(pnlBas, java.awt.BorderLayout.PAGE_END);

        bindingGroup.bind();

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txfCodePostalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfCodePostalActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txfCodePostalActionPerformed

    private void btnModifierActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnModifierActionPerformed
        // TODO add your handling code here:
        boolean lbValidation = false;
        lbValidation = validerLongeurChamp();
        if (lbValidation) {
            lbValidation = validerDonnee();
            if (lbValidation) {
                // CodePostal
                if(_codePostal == null)
                {
                    _codePostal = new CodePostal();
                }
                _codePostal.setCodePostal(txfCodePostal.getText());    
                _codePostal.setVille(txfVille.getText());
                _codePostal.setProvince(cmbProvince.getItemAt(cmbProvince.getSelectedIndex()));
                _codePostal.setPays("Canada");
               
                // Utilisateur
                
                if(_utilisateur == null)
                {
                    _utilisateur = new Utilisateur();
                }
                _utilisateur.setNom(txfNom.getText());
                _utilisateur.setPrenom(txfPrenom.getText());
                _utilisateur.setDateNaissance(retournerDate(txfDateNaissance.getText()));
                _utilisateur.setMotPasse(retournerMotPasse(pwfMotPasse.getPassword()));
                _utilisateur.setTelephone(retournerNoTel(txfTelephone.getText()));
                _utilisateur.setCellulaire(retournerNoTel(txfCellulaire.getText()));
                _utilisateur.setCourriel(txfCourriel.getText());
//                _utilisateur.setPhotographie(txfPhoto.getText());
                _utilisateur.setNas(retournerNAS(txfNAS.getText()));
                _utilisateur.setCreditImpression(BigDecimal.ZERO);
               
                // Adresse
                if(_adresse == null)
                {
                    _adresse = new Adresse();
                }
                _adresse.setNumeroCivique(Integer.parseInt(txfNoCiv.getText()));
                _adresse.setRue(txfNomRue.getText());
                // Étudiant
                if(_etudiant == null)
                {
                    _etudiant = new Etudiant();
                }
                _etudiant.setMatriculePK(txfMatricule.getText());
                _etudiant.setDateInscription(retournerDate(txfDateNaissance.getText()));
                _etudiant.setIdUtilisateurFK(_utilisateur);
                _etudiant.setCodePermanent(retournerCodePermanent(txfCodePermanent.getText()));
                
                this.setVisible(false);
            }
            result = true;
        }
        
    }//GEN-LAST:event_btnModifierActionPerformed

    private void btnAnnulerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAnnulerActionPerformed
        // TODO add your handling code here:
        this.setVisible(false);
        result = false;
    }//GEN-LAST:event_btnAnnulerActionPerformed

    private void txfMatriculeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txfMatriculeActionPerformed
        // TODO add your handling code here:
        //firePropertyChange(string, evt, evt);
    }//GEN-LAST:event_txfMatriculeActionPerformed

    private boolean validerLongeurChamp() {
        boolean lbValide = false;
        if ((txfMatricule.getText().length() < 7) | (txfMatricule.getText().length() > 7)) {
            lblMessage.setText("Veuillez inscrire un matricule de 7 caractères.");
            txfMatricule.requestFocus();
        } else if ((txfCodePermanent.getText().length() < 12) | (txfCodePermanent.getText().length() > 12)) {
            lblMessage.setText("Veuillez inscrire un code permanent de 12 caractère");
            txfCodePermanent.requestFocus();
        } else if ((txfNom.getText().length() < 3)) {
            lblMessage.setText("Veuillez inscrire un nom de plus de 2 caractères");
            txfNom.requestFocus();
        } else if (txfPrenom.getText().length() < 3) {
            lblMessage.setText("Veuillez inscrire un nom de plus de 2 caractères");
            txfPrenom.requestFocus();
        } else if (pwfMotPasse.getPassword().length < 4) {
            lblMessage.setText("Veuillez inscrire un mot de passe de plus de 3 caractères");
            pwfMotPasse.requestFocus();
        } else {
            boolean lbNumero = false;
            lbNumero = validerNumero(txfNoCiv.getText());
            if (!lbNumero) {
                lblMessage.setText("Veuillez inscrire un numéro valide dans le numéro civique");
                txfNoCiv.requestFocus();
            } else if (txfNomRue.getText().length() < 4) {
                lblMessage.setText("Veuillez inscrire un nom de rue de plus de 3 caractères");
                txfNomRue.requestFocus();
            } else if (txfVille.getText().length() < 4) {
                lblMessage.setText("Veuillez inscrire un nom de ville de plus de 4 caractères");
                txfVille.requestFocus();
            } else if ((txfCodePostal.getText().length() < 6) | (txfCodePostal.getText().length() > 7)) {
                lblMessage.setText("Veuillez inscrire un code postal valide");
                txfCodePostal.requestFocus();
            } else if (txfDateNaissance.getText().length() < 8) {
                lblMessage.setText("La date de naissance doit contenir au minimum 8 caractères");
                txfDateNaissance.requestFocus();
            } else if ((txfTelephone.getText().length() < 10) | (txfTelephone.getText().length() > 12)) {
                lblMessage.setText("Veuillez inscrire un numéro de téléphone valide de 10 à 12 caractères");
                txfTelephone.requestFocus();
            } else if ((txfCellulaire.getText().length() < 10) | (txfCellulaire.getText().length() > 12)) {
                lblMessage.setText("Veuillez inscrire un numéro de téléphone valide de 10 à 12 caractères");
                txfCellulaire.requestFocus();
            } else if ((txfNAS.getText().length() < 9) | (txfNAS.getText().length() > 11)) {
                lblMessage.setText("Veuillez inscrire un NAS de longueur valide");
                txfNAS.requestFocus();
            } else if (txfCourriel.getText().length() < 6) {
                lblMessage.setText("Veuillez inscrire un courriel de plus de 6 caractère");
                txfCourriel.requestFocus();
            } else if (txfCreImpression.getText().length() < 2) {
                lblMessage.setText("Veuillez inscrire un montant dans le crédit impression");
                txfCreImpression.requestFocus();
            } else if (txfPhoto.getText().length() < 3) {
                lblMessage.setText("Veuillez inscrire un lien accès dans la photographie");
                txfPhoto.requestFocus();
            } else {
                lbValide = true;
            }
        }
        return lbValide;
    }

    private boolean validerNumero(String psChaine) {
        boolean lbOk = false;
        try {
            int liNumero = Integer.parseInt(psChaine);
            lbOk = true;
        } catch (Exception e) {
            lblMessage.setText("Veuillez inscrire un numéro civique valide");
            txfNoCiv.requestFocus();
        }
        return lbOk;
    }

    private boolean validerDonnee() {
        boolean lbTerminer = false;
        boolean lbValide = false;
        lbValide = validerCodePermanent(txfCodePermanent.getText());
        if (lbValide) {
            lbValide = validerNom(txfNom.getText());
            if (lbValide) {
                lbValide = validerNom(txfPrenom.getText());
                if (lbValide) {
                    lbValide = validerMotPasse(retournerMotPasse(pwfMotPasse.getPassword()));
                    if (lbValide) {
                        lbValide = validerNom(txfNomRue.getText());
                        if (lbValide) {
                            lbValide = validerNom(txfVille.getText());
                            if (lbValide) {
                                lbValide = validerCodePostal(txfCodePostal.getText());
                                if (lbValide) {
                                    lbValide = validerDate(txfDateNaissance.getText());
                                    if (lbValide) {
                                        lbValide = validerTel(txfTelephone.getText());
                                        if (lbValide) {
                                            lbValide = validerTel(txfCellulaire.getText());
                                            if (lbValide) {
                                                lbValide = validerPhotographie(txfPhoto.getText());
                                                if (lbValide) {
                                                    lbValide = validerNAS(txfNAS.getText());
                                                    if (lbValide) {
                                                        lbValide = validerCourriel(txfCourriel.getText());
                                                        if (lbValide) {
                                                            lbValide = validerCredit(txfCreImpression.getText());
                                                            if (lbValide) {
                                                                lbTerminer = true;
                                                            } else {
                                                                lblMessage.setText("Veuillez inscrire un montant de crédit valide");
                                                                txfCreImpression.requestFocus();
                                                            }
                                                        } else {
                                                            lblMessage.setText("Veuillez inscrire une adresse courriel valide");
                                                            txfCourriel.requestFocus();
                                                        }
                                                    } else {
                                                        lblMessage.setText("Veuillez inscrire un numéro de NAS valide");
                                                        txfNAS.requestFocus();
                                                    }
                                                } else {
                                                    lblMessage.setText("Veuillez inscrire un lien de photo valide");
                                                    txfPhoto.requestFocus();
                                                }

                                            } else {
                                                lblMessage.setText("Veuillez inscrire un numéro de téléphone valide");
                                                txfCellulaire.requestFocus();
                                            }
                                        } else {
                                            lblMessage.setText("Veuillez inscrire un numéro de téléphone valide ");
                                            txfTelephone.requestFocus();
                                        }
                                    } else {
                                        lblMessage.setText("Veuillez inscrire une date valide aaaa/mm/jj");
                                        txfDateNaissance.requestFocus();
                                    }
                                } else {
                                    lblMessage.setText("Veuillez inscrire un code postal valide");
                                    txfCodePostal.requestFocus();
                                }
                            } else {
                                lblMessage.setText("Veuillez inscrire un nom de ville valide");
                                txfVille.requestFocus();
                            }
                        } else {
                            lblMessage.setText("Veuillez inscrire un nom de rue valide");
                            txfNomRue.requestFocus();
                        }
                    } else {
                        lblMessage.setText("Le mot de passe doit contenir uniquement des lettres et chiffres");
                        pwfMotPasse.requestFocus();
                    }
                } else {
                    lblMessage.setText("Veuillez inscrire un prénom valide sans caractères spéciaux");
                    txfPrenom.requestFocus();
                }
            } else {
                lblMessage.setText("Veuillez inscrire un nom valide sans caractères spéciaux");
                txfNom.requestFocus();
            }
        } else {
            lblMessage.setText("Veuillez inscrire un code permanent valide");
            txfCodePermanent.requestFocus();
        }
        return lbTerminer;
    }

    public Utilisateur getUtilisateur() {
        return _utilisateur;
    }

    public void setUtilisateur(Utilisateur _utilisateur) {
        this._utilisateur = _utilisateur;
    }

    public Etudiant getEtudiant() {
        return _etudiant;
    }

    public void setEtudiant(Etudiant _etudiant) {
        this._etudiant = _etudiant;
    }

    public Adresse getAdresse() {
        return _adresse;
    }

    public void setAdresse(Adresse _adresse) {
        this._adresse = _adresse;
    }

    public CodePostal getCodePostal() {
        return _codePostal;
    }

    public void setCodePostal(CodePostal _codePostal) {
        this._codePostal = _codePostal;
    }

    public boolean isResult() {
        return result;
    }

    public void setResult(boolean result) {
        this.result = result;
    }

    public Utilisateur getUnUtilisateur() {
        return _utilisateur;
    }

    public void setUnUtilisateur(Utilisateur unUtilisateur) {
        this._utilisateur = unUtilisateur;
    }

    public Etudiant getUnEtudiant() {
        return _etudiant;
    }

    public void setUnEtudiant(Etudiant unEtudiant) {
        this._etudiant = unEtudiant;
    }

    public Adresse getUnAdresse() {
        return _adresse;
    }

    public void setUnAdresse(Adresse unAdresse) {
        this._adresse = unAdresse;
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(DlgGererEtudiant.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(DlgGererEtudiant.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(DlgGererEtudiant.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(DlgGererEtudiant.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                DlgGererEtudiant dialog = new DlgGererEtudiant(new javax.swing.JFrame(), true, null);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnAnnuler;
    private javax.swing.JButton btnModifier;
    private javax.swing.JComboBox<String> cmbProvince;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel lblCellulaire;
    private javax.swing.JLabel lblCourriel;
    private javax.swing.JLabel lblCreditImpression;
    private javax.swing.JLabel lblMatricule;
    private javax.swing.JLabel lblMessage;
    private javax.swing.JLabel lblMotDePasse;
    private javax.swing.JLabel lblNAS;
    private javax.swing.JLabel lblPhotographie;
    private javax.swing.JLabel lblPrenom;
    private javax.swing.JLabel lblTelephone;
    private javax.swing.JLabel lblTitre;
    private javax.swing.JPanel pnlBas;
    private javax.swing.JPanel pnlBoutons;
    private javax.swing.JPanel pnlContenu;
    private javax.swing.JLabel pnlDateNaissance;
    private javax.swing.JPanel pnlMessage;
    private javax.swing.JLabel pnlNom;
    private javax.swing.JPanel pnlTitre;
    private javax.swing.JPasswordField pwfMotPasse;
    private javax.swing.JTextField txfCellulaire;
    private javax.swing.JTextField txfCodePermanent;
    private javax.swing.JTextField txfCodePostal;
    private javax.swing.JTextField txfCourriel;
    private javax.swing.JTextField txfCreImpression;
    private javax.swing.JTextField txfDateNaissance;
    private javax.swing.JTextField txfMatricule;
    private javax.swing.JTextField txfNAS;
    private javax.swing.JTextField txfNoCiv;
    private javax.swing.JTextField txfNom;
    private javax.swing.JTextField txfNomRue;
    private javax.swing.JTextField txfPhoto;
    private javax.swing.JTextField txfPrenom;
    private javax.swing.JTextField txfTelephone;
    private javax.swing.JTextField txfVille;
    private org.jdesktop.beansbinding.BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables

}
